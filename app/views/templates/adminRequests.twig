{% extends "templates/base.twig" %}

{% block title %}Requests{% endblock %}

{% block body %}
<div>
<button onclick="window.location='/admin/books'">Back to Admin Dashboard </button>
    <h2>Resolve requests</h2>

    <table border="2">

    <tr>
     
        <th>Books</th>
        <th>Author</th>
        <th>ID</th>
        <th>Request type</th>
        <th>Copies available</th>
        <th></th>
        <th></th>
    </tr>

    {% for request in requests %}
    
    <tr>
      
        <td>{{request.name}}</td>
        <td>{{request.author}}</td>
        <td>{{request.username}}</td>
        <td>{{request.req}}</td>
        <td>{{request.available}}</td>
        <td><button 
            id="accept-btn" onclick="acceptId({{request.id}}, {{request.type}}, {{request.username}}, {{request.available}}, 1)">
            Accept</button></td>
        <td><button 
            id="deny-btn" onclick="denyId({{request.id}}, {{request.status}}, {{request.username}}, 0)">
            Deny</button></td>
    </tr>
    
    {% endfor %}

    </table>
</div>
{% endblock %}
